
%lexer

%x COMMENT
%s C
%s D


\s+ %restart

aaa %begin(C), TOKEN
aaaa %begin(D), TOKEN
a+ TOKEN

<D>d %begin($INITIAL), TOKEN
<C>c %begin($INITIAL), TOKEN

/\* %begin(COMMENT), %restart
<COMMENT>[^*]* %restart
<COMMENT>\**[^/] %restart
<COMMENT>\**/ %begin($INITIAL), %restart

%parser

doc:
    %empty
    doc TOKEN: print($2.sem)
